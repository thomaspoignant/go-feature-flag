"use strict";(self.webpackChunkgo_feature_flag_website=self.webpackChunkgo_feature_flag_website||[]).push([[99588],{28453:(e,n,t)=>{t.d(n,{R:()=>l,x:()=>s});var a=t(96540);const r={},i=a.createContext(r);function l(e){const n=a.useContext(i);return a.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function s(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:l(e.components),a.createElement(i.Provider,{value:n},e.children)}},35511:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>o,contentTitle:()=>s,default:()=>u,frontMatter:()=>l,metadata:()=>a,toc:()=>d});const a=JSON.parse('{"id":"configure_flag/rollout-strategies/percentage","title":"\ud83d\udcaf Percentage rollout","description":"A percentage rollout refers to a gradual release of a new feature to a subset of users.","source":"@site/docs/configure_flag/rollout-strategies/percentage.md","sourceDirName":"configure_flag/rollout-strategies","slug":"/configure_flag/rollout-strategies/percentage","permalink":"/docs/next/configure_flag/rollout-strategies/percentage","draft":false,"unlisted":false,"editUrl":"https://github.com/thomaspoignant/go-feature-flag/tree/main/website/docs/configure_flag/rollout-strategies/percentage.md","tags":[],"version":"current","sidebarPosition":10,"frontMatter":{"sidebar_position":10,"description":"A percentage rollout refers to a gradual release of a new feature to a subset of users."},"sidebar":"tutorialSidebar","previous":{"title":"\ud83d\ude80 Rollouts","permalink":"/docs/next/configure_flag/rollout-strategies/"},"next":{"title":"\ud83d\udcc8 Progressive rollout","permalink":"/docs/next/configure_flag/rollout-strategies/progressive"}}');var r=t(74848),i=t(28453);const l={sidebar_position:10,description:"A percentage rollout refers to a gradual release of a new feature to a subset of users."},s="\ud83d\udcaf Percentage rollout",o={},d=[{value:"Overview",id:"overview",level:2},{value:"Define a percentage rollout",id:"define-a-percentage-rollout",level:2},{value:"Examples",id:"examples",level:2},{value:"Define in the default rule",id:"define-in-the-default-rule",level:3},{value:"Define in a targeting rule",id:"define-in-a-targeting-rule",level:3},{value:"\ud83d\udc25 Canary releases",id:"-canary-releases",level:2}];function c(e){const n={admonition:"admonition",code:"code",em:"em",h1:"h1",h2:"h2",h3:"h3",header:"header",p:"p",pre:"pre",strong:"strong",...(0,i.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.header,{children:(0,r.jsx)(n.h1,{id:"-percentage-rollout",children:"\ud83d\udcaf Percentage rollout"})}),"\n",(0,r.jsx)(n.h2,{id:"overview",children:"Overview"}),"\n",(0,r.jsx)(n.p,{children:"A percentage rollout refers to a gradual release of a new feature to a subset of users.\nInstead of making the feature available to everyone at once, you want to have only a subset of your customers to see the new feature."}),"\n",(0,r.jsx)(n.h2,{id:"define-a-percentage-rollout",children:"Define a percentage rollout"}),"\n",(0,r.jsx)(n.p,{children:"In GO Feature Flag, you can define a percentage rollout by setting the percentage of users that will see the new feature.\nYou can define the percentage in the flag configuration, and it works for the default rule or any other targeting rule you define."}),"\n",(0,r.jsxs)(n.p,{children:["The expected format is a map where the ",(0,r.jsx)(n.strong,{children:"key is the variation name"})," and the ",(0,r.jsx)(n.strong,{children:"value is the percentage"})," of users that will see this variation."]}),"\n",(0,r.jsx)(n.p,{children:"You can have as many variations as you want in the percentages, and you can define the percentage of users that will see each variation."}),"\n",(0,r.jsxs)(n.admonition,{type:"note",children:[(0,r.jsx)(n.p,{children:"If the sum of your percentages is not equal to 100 this is not a problem, we are computing the affectation as fractional numbers."}),(0,r.jsx)(n.p,{children:(0,r.jsxs)(n.em,{children:[(0,r.jsx)(n.strong,{children:"example"}),": if you have 2 variations and you set ",(0,r.jsx)(n.code,{children:"variation1: 10"})," and ",(0,r.jsx)(n.code,{children:"variation2: 50"})," it will be equivalent to ",(0,r.jsx)(n.code,{children:"variation1: 10/60"})," and ",(0,r.jsx)(n.code,{children:"variation2: 50/60"}),"."]})})]}),"\n",(0,r.jsx)(n.h2,{id:"examples",children:"Examples"}),"\n",(0,r.jsx)(n.h3,{id:"define-in-the-default-rule",children:"Define in the default rule"}),"\n",(0,r.jsxs)(n.p,{children:["In this example ",(0,r.jsx)(n.code,{children:"99%"})," of the users will see the ",(0,r.jsx)(n.code,{children:"disabled"})," variation and ",(0,r.jsx)(n.code,{children:"1%"})," will see the ",(0,r.jsx)(n.code,{children:"enabled"})," variation."]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-yaml",metastring:'title="flag-config.goff.yaml"',children:"percentage-flag-1:\n  variations:\n    disabled: false\n    enabled: true\n  defaultRule:\n  # highlight-start\n    percentage:\n      disabled: 99\n      enabled: 1\n  # highlight-end\n"})}),"\n",(0,r.jsx)(n.h3,{id:"define-in-a-targeting-rule",children:"Define in a targeting rule"}),"\n",(0,r.jsxs)(n.p,{children:["In this second example, ",(0,r.jsx)(n.code,{children:"50%"})," of the users that are ",(0,r.jsx)(n.code,{children:"admin"})," will see the ",(0,r.jsx)(n.code,{children:"disabled"})," variation and ",(0,r.jsx)(n.code,{children:"50%"})," will see the ",(0,r.jsx)(n.code,{children:"enabled"})," variation.\nNon admin users will see the ",(0,r.jsx)(n.code,{children:"disabled"})," variation."]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-yaml",metastring:'title="flag-config.goff.yaml"',children:"percentage-flag-1:\n  variations:\n    disabled: false\n    enabled: true\n  targeting:\n    - query: admin eq true\n      # highlight-start\n      percentage:\n        disabled: 50\n        enabled: 50\n      # highlight-end\n  defaultRule:\n    variation: disabled\n\n"})}),"\n",(0,r.jsx)(n.h2,{id:"-canary-releases",children:"\ud83d\udc25 Canary releases"}),"\n",(0,r.jsxs)(n.p,{children:["Percentage rollout are also known as ",(0,r.jsx)(n.strong,{children:"canary releases"}),", where you release a new feature to a small subset of users before rolling it out to everyone."]})]})}function u(e={}){const{wrapper:n}={...(0,i.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(c,{...e})}):c(e)}}}]);