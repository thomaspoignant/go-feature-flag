"use strict";(self.webpackChunkgo_feature_flag_website=self.webpackChunkgo_feature_flag_website||[]).push([[92839],{1336:(e,r,t)=>{t.d(r,{P:()=>i});t(96540);var a=t(5556),o=t.n(a),n=t(74848);const i=({sdk:e})=>{if(!e||!e.featureList||!Array.isArray(e.featureList))return null;const r=e=>{switch(e.toLowerCase()){case"done":return(0,n.jsx)("i",{className:"fa-solid fa-circle-check text-green-500"});case"WIP":return(0,n.jsx)("i",{className:"fa-solid fa-clock text-yellow-500 mr-1"});default:return(0,n.jsx)("i",{className:"fa-solid fa-circle-xmark text-red-500"})}};return(0,n.jsxs)("div",{className:"feature-table my-6",children:[(0,n.jsxs)("table",{className:"w-full border-collapse border border-gray-300 dark:border-gray-600",children:[(0,n.jsx)("thead",{children:(0,n.jsxs)("tr",{className:"bg-gray-100 dark:bg-gray-700",children:[(0,n.jsx)("th",{className:"border border-gray-300 dark:border-gray-600 px-4 py-2 text-left font-semibold",children:"Status"}),(0,n.jsx)("th",{className:"border border-gray-300 dark:border-gray-600 px-4 py-2 text-left font-semibold",children:"Feature"}),(0,n.jsx)("th",{className:"border border-gray-300 dark:border-gray-600 px-4 py-2 text-left font-semibold",children:"Description"})]})}),(0,n.jsx)("tbody",{children:e.featureList.sort((e,r)=>e.status.localeCompare(r.status)).map((e,t)=>(0,n.jsxs)("tr",{className:"hover:bg-gray-50 dark:hover:bg-gray-800",children:[(0,n.jsx)("td",{className:"border border-gray-300 dark:border-gray-600 px-4 py-2 text-center",children:r(e.status)}),(0,n.jsx)("td",{className:"border border-gray-300 dark:border-gray-600 px-4 py-2 font-medium",children:e.name}),(0,n.jsx)("td",{className:"border border-gray-300 dark:border-gray-600 px-4 py-2",children:e.description??"N/A"})]},e.name))})]}),(0,n.jsxs)("div",{className:"mt-4 text-sm text-gray-600 dark:text-gray-400",children:[(0,n.jsxs)("span",{className:"mr-4",children:[(0,n.jsx)("i",{className:"fa-solid fa-circle-check text-green-500 mr-1"}),"Implemented"]}),(0,n.jsxs)("span",{className:"mr-4",children:[(0,n.jsx)("i",{className:"fa-solid fa-clock text-yellow-500 mr-1"}),"In-progress"]}),(0,n.jsxs)("span",{children:[(0,n.jsx)("i",{className:"fa-solid fa-circle-xmark text-red-500 mr-1"}),"Not implemented yet"]})]})]})};i.propTypes={sdk:o().shape({name:o().string,featureList:o().arrayOf(o().shape({name:o().string.isRequired,status:o().string.isRequired,description:o().string}))}).isRequired}},21897:(e,r,t)=>{t.r(r),t.d(r,{assets:()=>c,contentTitle:()=>d,default:()=>u,frontMatter:()=>l,metadata:()=>a,toc:()=>g});const a=JSON.parse('{"id":"sdk/server_providers/openfeature_go","title":"GO","description":"How to use the OpenFeature GO SDK","source":"@site/docs/sdk/server_providers/openfeature_go.mdx","sourceDirName":"sdk/server_providers","slug":"/sdk/server_providers/openfeature_go","permalink":"/docs/next/sdk/server_providers/openfeature_go","draft":false,"unlisted":false,"editUrl":"https://github.com/thomaspoignant/go-feature-flag/tree/main/website/docs/sdk/server_providers/openfeature_go.mdx","tags":[],"version":"current","sidebarPosition":20,"frontMatter":{"sidebar_position":20,"title":"GO","description":"How to use the OpenFeature GO SDK"},"sidebar":"tutorialSidebar","previous":{"title":"Android / Kotlin","permalink":"/docs/next/sdk/client_providers/openfeature_android"},"next":{"title":"Java","permalink":"/docs/next/sdk/server_providers/openfeature_java"}}');var o=t(74848),n=t(28453),i=t(49839),s=t(1336);const l={sidebar_position:20,title:"GO",description:"How to use the OpenFeature GO SDK"},d="GO",c={},g=[{value:"Install dependencies",id:"install-dependencies",level:2},{value:"Initialize your Open Feature provider",id:"initialize-your-open-feature-provider",level:2},{value:"Using the relay proxy",id:"using-the-relay-proxy",level:3},{value:"Example",id:"example",level:4},{value:"Initialize your Open Feature client",id:"initialize-your-open-feature-client",level:2},{value:"Evaluate your flag",id:"evaluate-your-flag",level:2},{value:"Unit testing",id:"unit-testing",level:2},{value:"Features status",id:"features-status",level:2},{value:"Contribute to the provider",id:"contribute-to-the-provider",level:2}];function p(e){const r={a:"a",admonition:"admonition",blockquote:"blockquote",code:"code",h1:"h1",h2:"h2",h3:"h3",h4:"h4",header:"header",img:"img",p:"p",pre:"pre",strong:"strong",...(0,n.R)(),...e.components};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(r.header,{children:(0,o.jsx)(r.h1,{id:"go",children:"GO"})}),"\n",(0,o.jsx)(r.p,{children:(0,o.jsx)(r.a,{href:"https://github.com/open-feature/go-sdk-contrib/tree/main/providers/go-feature-flag",children:(0,o.jsx)(r.img,{src:"https://img.shields.io/badge/dynamic/json?color=blue&style=flat-square&url=https%3A%2F%2Fproxy.golang.org%2Fgithub.com%2Fopen-feature%2Fgo-sdk-contrib%2Fproviders%2Fgo-feature-flag%2F%40latest&query=%24.Version&label=GO",alt:"GO Version"})})}),"\n",(0,o.jsx)(r.h2,{id:"install-dependencies",children:"Install dependencies"}),"\n",(0,o.jsxs)(r.p,{children:["The first things we will do is install the ",(0,o.jsx)(r.strong,{children:"Open Feature SDK"})," and the ",(0,o.jsx)(r.strong,{children:"GO Feature Flag provider"}),"."]}),"\n",(0,o.jsx)(r.pre,{children:(0,o.jsx)(r.code,{className:"language-shell",children:"go get github.com/open-feature/go-sdk\ngo get github.com/open-feature/go-sdk-contrib/providers/go-feature-flag\n"})}),"\n",(0,o.jsx)(r.h2,{id:"initialize-your-open-feature-provider",children:"Initialize your Open Feature provider"}),"\n",(0,o.jsxs)(r.p,{children:["Despite other providers, this GO provider can be used with the ",(0,o.jsx)(r.strong,{children:"relay proxy"})," or standalone\nusing the ",(0,o.jsx)(r.strong,{children:"GO Feature Flag module"}),"."]}),"\n",(0,o.jsx)(r.h3,{id:"using-the-relay-proxy",children:"Using the relay proxy"}),"\n",(0,o.jsxs)(r.p,{children:["If you want to use the provider with the ",(0,o.jsx)(r.strong,{children:"relay proxy"})," you should set the field ",(0,o.jsx)(r.code,{children:"Endpoint"})," in the options.\nBy default it will use a default ",(0,o.jsx)(r.code,{children:"HTTPClient"})," with a ",(0,o.jsx)(r.strong,{children:"timeout"})," configured at ",(0,o.jsx)(r.strong,{children:"10000"})," milliseconds. You can change\nthis configuration by providing your own configuration of the ",(0,o.jsx)(r.code,{children:"HTTPClient"}),"."]}),"\n",(0,o.jsx)(r.h4,{id:"example",children:"Example"}),"\n",(0,o.jsx)(r.pre,{children:(0,o.jsx)(r.code,{className:"language-go",children:'options := gofeatureflag.ProviderOptions{\n  Endpoint: "http://localhost:1031",\n  HTTPClient: &http.Client{\n    Timeout:   1 * time.Second,\n  },\n}\nprovider, _ := gofeatureflag.NewProvider(options)\n'})}),"\n",(0,o.jsx)(r.h2,{id:"initialize-your-open-feature-client",children:"Initialize your Open Feature client"}),"\n",(0,o.jsx)(r.p,{children:"To evaluate the flags you need to have an Open Feature configured in you app.\nThis code block shows you how you can create a client that you can use in your application."}),"\n",(0,o.jsx)(r.pre,{children:(0,o.jsx)(r.code,{className:"language-go",children:'import (\n  // ...\n  gofeatureflag "github.com/open-feature/go-sdk-contrib/providers/go-feature-flag/pkg"\n  of "github.com/open-feature/go-sdk/openfeature"\n)\n\n// ...\n\noptions := gofeatureflag.ProviderOptions{\n    Endpoint: "http://localhost:1031",\n}\nprovider, err := gofeatureflag.NewProvider(options)\nof.SetProvider(provider)\nclient := of.NewClient("my-app")\n'})}),"\n",(0,o.jsx)(r.h2,{id:"evaluate-your-flag",children:"Evaluate your flag"}),"\n",(0,o.jsxs)(r.p,{children:["This code block explains how you can create an ",(0,o.jsx)(r.code,{children:"EvaluationContext"})," and use it to evaluate your flag."]}),"\n",(0,o.jsxs)(r.blockquote,{children:["\n",(0,o.jsxs)(r.p,{children:["In this example we are evaluating a ",(0,o.jsx)(r.code,{children:"boolean"})," flag, but other types are also available."]}),"\n",(0,o.jsx)(r.p,{children:(0,o.jsxs)(r.strong,{children:["Refer to the ",(0,o.jsx)(r.a,{href:"https://docs.openfeature.dev/docs/reference/concepts/evaluation-api#basic-evaluation",children:"Open Feature documentation"})," to know more about it."]})}),"\n"]}),"\n",(0,o.jsx)(r.pre,{children:(0,o.jsx)(r.code,{className:"language-go",children:'evaluationCtx := of.NewEvaluationContext(\n    "1d1b9238-2591-4a47-94cf-d2bc080892f1",\n    map[string]interface{}{\n      "firstname", "john",\n      "lastname", "doe",\n      "email", "john.doe@gofeatureflag.org",\n      "admin", true,\n      "anonymous", false,\n    })\nadminFlag, _ := client.BoolValue(context.TODO(), "flag-only-for-admin", false, evaluationCtx)\nif adminFlag {\n   // flag "flag-only-for-admin" is true for the user\n} else {\n  // flag "flag-only-for-admin" is false for the user\n}\n'})}),"\n",(0,o.jsx)(r.h2,{id:"unit-testing",children:"Unit testing"}),"\n",(0,o.jsx)(r.p,{children:"When testing code that relies on feature flags, it's crucial to have control over the flag values to simulate different scenarios and isolate your tests."}),"\n",(0,o.jsxs)(r.p,{children:["The ",(0,o.jsx)(r.strong,{children:"OpenFeature in-memory provider"})," offers a convenient solution by allowing you to define and manipulate feature flag values directly within your tests.\nThis eliminates the need to start a relay-proxy and provides a more efficient and flexible testing environment."]}),"\n",(0,o.jsx)(r.p,{children:"In this example, we demonstrate how to use the in-memory provider to set the value of 2 different feature flags in a test:"}),"\n",(0,o.jsx)(r.pre,{children:(0,o.jsx)(r.code,{className:"language-go",children:'func TestMyTest(t *testing.T) {\n    apiInstance := openfeature.GetApiInstance()\n    apiInstance.SetProvider(\n        memprovider.NewInMemoryProvider(\n            map[string]memprovider.InMemoryFlag{\n                "my-flag-1": {Key: "my-flag-1", DefaultVariant: "var_a", Variants: map[string]any{"var_a": true}},\n                "my-flag-2": {Key: "my-flag-2", DefaultVariant: "disabled", Variants: map[string]any{"disabled": false}},\n            }\n        ))\n\n    // Your test code here\n}\n'})}),"\n",(0,o.jsx)(r.p,{children:"By setting the in memory provider you are able to predict the value of the flag you will get when running your tests.\nThis is a good way to ensure that your test is using the value you are expecting as response of your feature flag."}),"\n",(0,o.jsx)(r.admonition,{type:"note",children:(0,o.jsx)(r.p,{children:"The in memory provider is part of the OpenFeature SDK, you don't need to export any extra dependencies to use it."})}),"\n",(0,o.jsx)(r.h2,{id:"features-status",children:"Features status"}),"\n",(0,o.jsx)(s.P,{sdk:i.x.find(e=>"go"===e.key)}),"\n",(0,o.jsx)(r.h2,{id:"contribute-to-the-provider",children:"Contribute to the provider"}),"\n",(0,o.jsxs)(r.p,{children:["You can find the source of the provider in the ",(0,o.jsx)(r.a,{href:"https://github.com/open-feature/go-sdk-contrib/tree/main/providers/go-feature-flag",children:(0,o.jsx)(r.code,{children:"open-feature/go-sdk-contrib"})})," repository."]})]})}function u(e={}){const{wrapper:r}={...(0,n.R)(),...e.components};return r?(0,o.jsx)(r,{...e,children:(0,o.jsx)(p,{...e})}):p(e)}},28453:(e,r,t)=>{t.d(r,{R:()=>i,x:()=>s});var a=t(96540);const o={},n=a.createContext(o);function i(e){const r=a.useContext(n);return a.useMemo(function(){return"function"==typeof e?e(r):{...r,...e}},[r,e])}function s(e){let r;return r=e.disableParentContext?"function"==typeof e.components?e.components(o):e.components||o:i(e.components),a.createElement(n.Provider,{value:r},e.children)}},49839:(e,r,t)=>{t.d(r,{x:()=>n});const a=[{key:"localCache",sdkType:"client",name:"Flags Local Cache",description:"The provider is able to cache the flags, it allow to evaluate the feature flags without waiting for the remote evaluation to be done."},{key:"remote",name:"Remote Evaluation",description:"The provider is calling the remote server to evaluate the feature flags."},{key:"trackingFlag",name:"Tracking Flag Evaluation",description:"The provider is tracking all the evaluations of your feature flags and you can export them using an exporter."},{key:"configurationChange",name:"Configuration Change Updates",description:"The provider is able to update the configuration based on the configuration, it means that the provider is able to react to any feature flag change on your configuration."},{key:"providerEvents",name:"Provider Events Reactions",description:"You can add an event handler to the provider to react to the provider events."}],o=(e,r)=>a.filter(e=>e.sdkType===r||void 0===e.sdkType).map(r=>({...r,status:e.includes(r.key)?"done":"not implemented"})),n=[{key:"go",name:"Golang",paradigm:["Server"],faLogo:"devicon-go-original-wordmark colored",badgeUrl:"https://img.shields.io/badge/dynamic/json?url=https%3A%2F%2Fproxy.golang.org%2Fgithub.com%2Fopen-feature%2Fgo-sdk-contrib%2Fproviders%2Fgo-feature-flag%2F%40latest&query=%24.Version&label=GO&color=blue&style=flat-square&log=go",docLink:"server_providers/openfeature_go",featureList:o(["inprocess","remote","trackingFlag","configurationChange","providerEvents"],"server")},{key:"java",name:"Java",paradigm:["Server"],faLogo:"devicon-java-plain colored",badgeUrl:"https://img.shields.io/maven-central/v/dev.openfeature.contrib.providers/go-feature-flag?color=blue&style=flat-square&logo=java",docLink:"server_providers/openfeature_java",featureList:o(["inprocess","remote","trackingFlag","configurationChange","providerEvents","trackingEvents"],"server")},{key:"kotlin",name:"Kotlin",paradigm:["Server"],faLogo:"devicon-kotlin-plain colored",badgeUrl:"https://img.shields.io/maven-central/v/dev.openfeature.contrib.providers/go-feature-flag?color=blue&style=flat-square&logo=java",docLink:"server_providers/openfeature_java",featureList:o(["inprocess","remote","trackingFlag","configurationChange","providerEvents","trackingEvents"],"server")},{key:"dotnet",name:".NET",paradigm:["Server"],faLogo:"devicon-dot-net-plain-wordmark colored",badgeUrl:"https://img.shields.io/nuget/v/OpenFeature.Providers.GOFeatureFlag?color=blue&style=flat-square&logo=nuget",docLink:"server_providers/openfeature_dotnet",featureList:o(["inprocess","remote","trackingFlag","configurationChange","providerEvents","trackingEvents"],"server")},{key:"python",name:"Python",paradigm:["Server"],faLogo:"devicon-python-plain colored",badgeUrl:"https://img.shields.io/pypi/v/gofeatureflag-python-provider?color=blue&style=flat-square&logo=pypi",docLink:"server_providers/openfeature_python",featureList:o(["remote","trackingFlag","configurationChange"],"server")},{key:"javascript",name:"Javascript",paradigm:["Client"],faLogo:"devicon-javascript-plain colored",badgeUrl:"https://img.shields.io/npm/v/%40openfeature%2Fgo-feature-flag-web-provider?color=blue&style=flat-square&logo=npm",docLink:"client_providers/openfeature_javascript",featureList:o(["localCache","remote","trackingFlag","configurationChange","providerEvents","trackingEvents"],"client")},{key:"typescript",name:"Typescript",paradigm:["Client"],faLogo:"devicon-typescript-plain colored",badgeUrl:"https://img.shields.io/npm/v/%40openfeature%2Fgo-feature-flag-web-provider?color=blue&style=flat-square&logo=npm",docLink:"client_providers/openfeature_javascript",featureList:o(["localCache","remote","trackingFlag","configurationChange","providerEvents","trackingEvents"],"client")},{key:"react",name:"React",paradigm:["Client"],faLogo:"devicon-react-original colored",badgeUrl:"https://img.shields.io/npm/v/%40openfeature%2Fgo-feature-flag-web-provider?color=blue&style=flat-square&logo=npm",docLink:"client_providers/openfeature_react",featureList:o(["localCache","remote","trackingFlag","configurationChange","providerEvents","trackingEvents"],"client")},{key:"angular",name:"Angular",paradigm:["Client"],faLogo:"devicon-angularjs-plain colored",badgeUrl:"https://img.shields.io/npm/v/%40openfeature%2Fgo-feature-flag-web-provider?color=blue&style=flat-square&logo=npm",docLink:"client_providers/openfeature_angular",featureList:o(["localCache","remote","trackingFlag","configurationChange","providerEvents","trackingEvents"],"client")},{key:"swift",name:"Swift",paradigm:["Client"],faLogo:"devicon-swift-plain colored",docLink:"client_providers/openfeature_swift",badgeUrl:"https://img.shields.io/github/v/release/go-feature-flag/openfeature-swift-provider?label=Swift&amp;display_name=tag&style=flat-square&logo=Swift",featureList:o(["localCache","remote","trackingFlag","configurationChange","providerEvents"],"client")},{key:"android",name:"Kotlin / Android",paradigm:["Client"],faLogo:"devicon-android-plain colored",docLink:"client_providers/openfeature_android",badgeUrl:"https://img.shields.io/maven-central/v/org.gofeatureflag.openfeature/gofeatureflag-kotlin-provider?color=blue&style=flat-square&logo=android",featureList:o(["localCache","remote","trackingFlag","configurationChange","providerEvents"],"client")},{key:"nodejs",name:"Node.JS",paradigm:["Server"],faLogo:"devicon-nodejs-plain colored",docLink:"server_providers/openfeature_javascript",badgeUrl:"https://img.shields.io/npm/v/%40openfeature%2Fgo-feature-flag-provider?color=blue&style=flat-square&logo=npm",featureList:o(["remote","trackingFlag","configurationChange","providerEvents"],"server")},{key:"php",name:"PHP",paradigm:["Server"],faLogo:"devicon-php-plain colored",badgeUrl:"https://img.shields.io/packagist/v/open-feature/go-feature-flag-provider?logo=php&color=blue&style=flat-square",docLink:"server_providers/openfeature_php",featureList:o(["remote","trackingFlag"],"server")},{key:"ruby",name:"Ruby",paradigm:["Server"],faLogo:"devicon-ruby-plain colored",badgeUrl:"https://img.shields.io/gem/v/openfeature-go-feature-flag-provider?color=blue&style=flat-square&logo=ruby",docLink:"server_providers/openfeature_ruby",featureList:o(["remote","trackingFlag"],"server")},{key:"nestjs",name:"NestJS",paradigm:["Server"],faLogo:"devicon-nestjs-plain colored",badgeUrl:"https://img.shields.io/npm/v/%40openfeature%2Fgo-feature-flag-provider?color=blue&style=flat-square&logo=npm",docLink:"server_providers/openfeature_nestjs",featureList:o(["remote","trackingFlag","configurationChange","providerEvents"],"server")}]}}]);